<html>
  <head>
  </head>
  <body>
    <script type="text/waitron">
      <template>
        <% for(var i = 0; i < items.length; ++i) { %>
          <div><%-items[i]%>|<%-name%></div>
        <% } %>
      </template>
      <initialize>
        this.items = [1,2,3];
        this.name = "mytest!"
        this.on('click', function(){
          //alert('test');
          self.name = "aaaaa"
          self.items.push(self.items.length + 1)
        })
      </initialize>
    </script>

    <script id="titleBind" type="text/template">
      <h1 data-text="title"></h1>
      <form>
        <input type="text" data-value="title">
      </form>
    </script>

    <div id="testImpl"></div>

    <script src="http://underscorejs.org/underscore-min.js"></script>
    <script src="https://code.jquery.com/jquery-2.2.3.min.js"></script>
    <script src="js/waitron.js"></script>

    <script>
      w.init();
    </script>

    <script>
      var type = w.addType(titleBind, function(){
        var self = this;
        this.title = "テスト"
        this.find('h1').on('click', function(){ // TODO: need renderd event
          self.title = "ああああ"
        });
      })
      var cmp = type.createAfter($('#testImpl'))
    </script>

  </body>
</html>
